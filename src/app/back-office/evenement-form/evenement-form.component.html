
<form [formGroup]="evenementForm" (ngSubmit)="onSubmit()" class="mt-4">
  <div class="mb-3">
    <label for="nom" class="form-label">Nom:</label>
    <input type="text" id="nom" formControlName="nom" class="form-control" />
    <div
      *ngIf="evenementForm.get('nom')?.invalid && evenementForm.get('nom')?.touched"
      class="text-danger">
      <small *ngIf="evenementForm.get('nom')?.errors?.['required']">Le nom est
        requis.</small>
      <small *ngIf="evenementForm.get('nom')?.errors?.['minlength']">Le nom doit
        avoir au moins 3 caractères.</small>
    </div>
  </div>
  <div class="mb-3">
    <label for="date" class="form-label">Date:</label>
    <input type="date" id="date" formControlName="date" class="form-control" />
    <div
      *ngIf="evenementForm.get('date')?.invalid && evenementForm.get('date')?.touched"
      class="text-danger">
      <small *ngIf="evenementForm.get('date')?.errors?.['required']">La date est
        requise.</small>
      <small *ngIf="evenementForm.get('date')?.errors?.['dateFuture']">La date
        doit être dans le futur.</small>
    </div>
  </div>
  <div class="mb-3">
    <label for="dateFin" class="form-label">Date Fin:</label>
    <input type="date" id="dateFin" formControlName="dateFin"
      class="form-control" />
    <div
      *ngIf="evenementForm.get('dateFin')?.invalid && evenementForm.get('dateFin')?.touched"
      class="text-danger">
      <small *ngIf="evenementForm.get('dateFin')?.errors?.['required']">La date
        de fin est requise.</small>
      <small *ngIf="evenementForm.errors?.['dateComparison']">La date de fin
        doit être supérieure à la date de début.</small>
    </div>
  </div>
  <div class="mb-3">
    <label for="statut" class="form-label">Statut:</label>
    <input type="text" id="statut" formControlName="statut"
      class="form-control" />
    <div
      *ngIf="evenementForm.get('statut')?.invalid && evenementForm.get('statut')?.touched"
      class="text-danger">
      <small *ngIf="evenementForm.get('statut')?.errors?.['required']">Le statut
        est requis.</small>
    </div>
  </div>
  <div class="mb-3">
    <label for="siteweb" class="form-label">Site web:</label>
    <input type="text" id="siteweb" formControlName="siteweb"
      class="form-control" />
    <div
      *ngIf="evenementForm.get('siteweb')?.invalid && evenementForm.get('siteweb')?.touched"
      class="text-danger">
      <small *ngIf="evenementForm.get('siteweb')?.errors?.['required']">Le site
        web est requis.</small>
    </div>
  </div>

  <div class="mb-3">
    <label for="capacite" class="form-label">Capacité:</label>
    <input type="number" id="capacite" formControlName="capacite"
      class="form-control" />
    <div
      *ngIf="evenementForm.get('capacite')?.invalid && evenementForm.get('capacite')?.touched"
      class="text-danger">
      <small *ngIf="evenementForm.get('capacite')?.errors?.['required']">La
        capacité est requise.</small>
    </div>
    <div *ngIf="evenementForm.errors?.['capacityExceeded']" class="text-danger">
      <small>La capacité doit être supérieure ou égale au nombre de
        participants.</small>
    </div>
  </div>

  <div class="mb-3">
    <label for="nbrParticipant" class="form-label">Nombre de
      participants:</label>
    <input type="number" id="nbrParticipant" formControlName="nbrParticipant"
      class="form-control" />
    <div
      *ngIf="evenementForm.get('nbrParticipant')?.invalid && evenementForm.get('nbrParticipant')?.touched"
      class="text-danger">
      <small
        *ngIf="evenementForm.get('nbrParticipant')?.errors?.['required']">Le
        nombre de participants est requis.</small>
    </div>
    <div *ngIf="evenementForm.errors?.['capacityExceeded']" class="text-danger">
      <small>Le nombre de participants doit être inférieur ou égal à la
        capacité.</small>
    </div>
  </div>
  <div class="mb-3">
    <label for="affiche" class="form-label">Affiche:</label>
    <input type="file" id="affiche" (change)="onFileChange($event)"
      class="form-control" />
    <div
      *ngIf="evenementForm.get('affiche')?.invalid && evenementForm.get('affiche')?.touched"
      class="text-danger">
      <small
        *ngIf="evenementForm.get('affiche')?.errors?.['required']">L'affiche est
        requise.</small>
    </div>
  </div>
  <div class="mb-3">
    <label for="rating" class="form-label">Rating:</label>
    <div class="rating">
      <span class="fa fa-star" (click)="setRating(1)"
        [class.checked]="rating >= 1"></span>
      <span class="fa fa-star" (click)="setRating(2)"
        [class.checked]="rating >= 2"></span>
      <span class="fa fa-star" (click)="setRating(3)"
        [class.checked]="rating >= 3"></span>
      <span class="fa fa-star" (click)="setRating(4)"
        [class.checked]="rating >= 4"></span>
      <span class="fa fa-star" (click)="setRating(5)"
        [class.checked]="rating >= 5"></span>
    </div>
    <input type="hidden" formControlName="rating" [value]="rating" />
    <div
      *ngIf="evenementForm.get('rating')?.invalid && evenementForm.get('rating')?.touched"
      class="text-danger">
      <small *ngIf="evenementForm.get('rating')?.errors?.['required']">Le rating
        est requis.</small>
      <small *ngIf="evenementForm.get('rating')?.errors?.['min']">Le rating doit
        être supérieur ou égal à 0.</small>
      <small *ngIf="evenementForm.get('rating')?.errors?.['max']">Le rating doit
        être inférieur ou égal à 5.</small>
    </div>
  </div>
  <button type="submit" class="btn btn-primary">Ajouter</button>
</form>
